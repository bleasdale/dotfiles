(self.webpackChunklite=self.webpackChunklite||[]).push([[8058],{94132:(e,n,t)=>{"use strict";t.d(n,{T:()=>k});var r=t(59713),i=t.n(r),o=t(67294),a=t(60046),l=t(82418),c=t(97145),s=t(42933),u=t(82318),d=t(1072),m=t(75209),p=t(37278),f=t(98024),g=t(77180),v=t(67297),h=t(67122),y=t(27952);function S(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function b(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?S(Object(t),!0).forEach((function(n){i()(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):S(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var E=function(e){var n=e.authDomain,t=e.productName;return o.createElement(s.x,{flexGrow:"1",flexShrink:"1",flexBasis:"0",margin:"0 12px"},o.createElement(s.x,{paddingBottom:"8px"},o.createElement(u.r,{href:(0,y.mX)(n)},o.createElement(p.X6,{scale:"S"},"Write a story on ",t,"."))),o.createElement(f.F,{scale:"M"},"If you have a story to tell, knowledge to share, or a perspective to offer — welcome home. It’s easy and free to post your thinking on any topic."," ",o.createElement(u.r,{href:(0,y.mX)(n),inline:!0,linkStyle:"OBVIOUS"},"Start a blog")))},k=function(e){var n=e.slimFooter,t=(0,v.v9)((function(e){return e.config.authDomain})),r=(0,v.v9)((function(e){return e.config.productName})),i=(0,g.F)(),S=b(b({},i),{},{baseColor:b(b({},i.baseColor),{},{background:{light:h.Uy(.76),normal:h.Uy(.84),dark:h.Uy(.9)},border:{lighter:h.l9(.1),light:h.l9(.2),normal:h.l9(.34),dark:h.l9(.54),darker:h.l9(.84)},fill:{lighter:h.l9(.7),light:h.l9(.8),normal:h.l9(.98),dark:h.l9(.99),darker:h.l9(1)},text:{lighter:h.l9(.7),light:h.l9(.8),normal:h.l9(.98),dark:h.l9(.99),darker:h.l9(1)}})});return o.createElement(d.f,{theme:S},o.createElement(s.x,{backgroundColor:"BASE_DARK",padding:"".concat(n?"32px":"60px"," 0"),sm:{padding:"28px 0 12px"}},o.createElement(m.P,null,n?null:o.createElement(s.x,{borderBottom:"BASE_DARK",display:"flex",justifyContent:"space-between",marginBottom:"32px",paddingBottom:"48px",sm:{display:"none"}},o.createElement(s.x,{display:"flex",justifyContent:"space-between",margin:"0 -12px"},o.createElement(s.x,{flexGrow:"1",flexShrink:"1",flexBasis:"0",margin:"0 12px"},o.createElement(s.x,{paddingBottom:"8px"},o.createElement(u.r,{href:(0,y.jQk)({authDomain:t,autoplay:!0})},o.createElement(p.X6,{scale:"S"},"Learn more."))),o.createElement(f.F,{scale:"M"},r," is an open platform where 170 million readers come to find insightful and dynamic thinking. Here, expert and undiscovered voices alike dive into the heart of any topic and bring new ideas to the surface."," ",o.createElement(u.r,{href:(0,y.jQk)({authDomain:t,autoplay:!0}),inline:!0,linkStyle:"OBVIOUS"},"Learn more"))),o.createElement(s.x,{flexGrow:"1",flexShrink:"1",flexBasis:"0",margin:"0 12px"},o.createElement(s.x,{paddingBottom:"8px"},o.createElement(u.r,{href:(0,y.a4F)(t)},o.createElement(p.X6,{scale:"S"},"Make ",r," yours."))),o.createElement(f.F,{scale:"M"},"Follow the writers, publications, and topics that matter to you, and you’ll see them on your homepage and in your inbox."," ",o.createElement(u.r,{href:(0,y.a4F)(t),inline:!0,linkStyle:"OBVIOUS"},"Explore"))),o.createElement(E,{authDomain:t,productName:r}))),o.createElement(s.x,{display:"flex",flexDirection:"column"},o.createElement(s.x,{display:"flex",flexDirection:{xs:"column",sm:"column",md:"row",lg:"row",xl:"row"},alignItems:{xs:"flex-start",sm:"flex-start",md:"center",lg:"center",xl:"center"},justifyContent:"space-between"},o.createElement(u.r,{href:"https://".concat(t,"/"),ariaLabel:"Go to homepage"},o.createElement(a.Rv,{fill:h.ix})),o.createElement(s.x,{display:"flex",justifyContent:"space-between",width:"200px",padding:{xs:"20px 0 28px",sm:"20px 0 28px",md:"0",lg:"0",xl:"0"}},o.createElement(f.F,{color:"DARKER",scale:"L"},o.createElement(u.r,{href:(0,y.jQk)({authDomain:t}),inline:!0},"About")),o.createElement(f.F,{color:"DARKER",scale:"L"},o.createElement(u.r,{href:(0,y.Zp)(t),inline:!0},"Write")),o.createElement(f.F,{color:"DARKER",scale:"L"},o.createElement(u.r,{href:(0,y.XpN)(),inline:!0},"Help")),o.createElement(f.F,{color:"DARKER",scale:"L"},o.createElement(u.r,{href:(0,y.xBX)(),inline:!0},"Legal")))),o.createElement(o.Fragment,null,o.createElement(s.x,{display:"none",sm:{display:"flex",marginTop:"0",padding:"20px 0",borderTop:"BASE_DARK"}},o.createElement(f.F,{color:"LIGHTER",scale:"L"},"Get the Medium app")),o.createElement(s.x,{display:"none",sm:{display:"flex",flexDirection:"row",marginBottom:"16px",width:"100%"}},o.createElement(s.x,{marginRight:"16px"},o.createElement(c.E,{entryPoint:"postPageFooter"})),o.createElement(s.x,null,o.createElement(l.H,{entryPoint:"postPageFooter"}))))))))}},70450:(e,n,t)=>{"use strict";t.d(n,{Y4:()=>l,NJ:()=>c,lc:()=>s});var r=t(59713),i=t.n(r),o=t(90038);function a(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function l(e){var n=e.miroId,t=e.originalWidth,r=e.originalHeight,i=e.focusPercentX,a=e.focusPercentY,l=e.croppedWidth;if(!n)return null;var c=(0,o.vz)({miroId:n,aspectRatio:16/9,croppedWidth:l,originalWidth:t,originalHeight:r,focusPercentX:i,focusPercentY:a}),s=(0,o.vz)({miroId:n,aspectRatio:4/3,croppedWidth:l,originalWidth:t,originalHeight:r,focusPercentX:i,focusPercentY:a}),u=(0,o.vz)({miroId:n,aspectRatio:1,croppedWidth:l,originalWidth:t,originalHeight:r,focusPercentX:i,focusPercentY:a}),d=new Set([c,s,u]);return Array.from(d)}function c(e){return function(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?a(Object(t),!0).forEach((function(n){i()(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):a(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}({"@type":"ImageObject"},e)}function s(e){var n=e.id,t=e.originalWidth,r=e.originalHeight;if(!n||!t||!r)return null;var i=Math.min(r,60),a=i/r,l=Math.floor(t*a);return c({width:l,height:i,url:(0,o.W6)({miroId:n,width:l,freezeGifs:!0,strategy:o._S.Resample})})}},4697:(e,n,t)=>{"use strict";t.d(n,{Xw:()=>M,e0:()=>R,Rf:()=>L});var r=t(59713),i=t.n(r),o=t(28655),a=t.n(o),l=t(71439),c=t(67294),s=t(90194),u=t(41707),d=t(1072),m=t(42933),p=t(51512),f=t(534);function g(){var e=a()(["\n  fragment NewsletterV3AmpButton_newsletterV3 on NewsletterV3 {\n    id\n    collection {\n      ...collectionDefaultBackgroundTheme_collection\n    }\n  }\n  ","\n"]);return g=function(){return e},e}var v=(0,l.Ps)(g(),f.Gi),h=function(e){var n=e.newsletterV3,t=e.buttonLayout,r=void 0===t?"MULTI-LINE":t,i=e.buttonSize,o=void 0===i?"LARGE":i,a=e.buttonStyle,l=void 0===a?"STRONG":a,g=e.redirectUrl;return c.createElement(u.Z,null,(function(e){return c.createElement(d.f,{theme:(0,f.jN)(null==n?void 0:n.collection,e)},c.createElement(p.cW,{source:{newsletterV3Id:n.id},extendSource:!0},c.createElement(m.x,{margin:"COMPACT"===r?"10px 20px 10px 0":"",xs:{margin:"10px 0 0 0"}},c.createElement(s.w,{buttonSize:o,buttonStyle:l,onClick:function(){return null},showMailIcon:!1,buttonText:"Learn more",redirectUrl:g}))))}))},y=t(11969),S=t(56202),b=t(53976),E=t(76532),k=t(73891),w=t(82318),x=t(37278),P=t(98024),_=t(95760),O=t(6688),N=t(27108),I=t(14391),T=t(67297),D=t(80637),C=t(27952);function A(){var e=a()(["\n  fragment NewsletterV3Promo_publisher on Publisher {\n    __typename\n    ... on User {\n      id\n      username\n      name\n      viewerIsUser\n      newsletterV3 {\n        id\n        ...NewsletterV3Promo_newsletterV3\n      }\n    }\n    ... on Collection {\n      id\n      slug\n      domain\n      name\n      newsletterV3 {\n        id\n        ...NewsletterV3Promo_newsletterV3\n      }\n    }\n  }\n  ","\n"]);return A=function(){return e},e}function F(){var e=a()(["\n  fragment NewsletterV3Promo_newsletterV3 on NewsletterV3 {\n    slug\n    name\n    description\n    promoHeadline\n    promoBody\n    ...NewsletterV3AmpButton_newsletterV3\n    ...NewsletterV3SubscribeButton_newsletterV3\n    ...NewsletterV3SubscribeByEmail_newsletterV3\n  }\n  ","\n  ","\n  ","\n"]);return F=function(){return e},e}var R=(0,l.Ps)(F(),v,y.B,S.Lh),L=(0,l.Ps)(A(),R),B=function(e){return i()({borderTop:"3px solid ".concat(e.accentColor.border.normal),padding:"32px 32px 26px 32px",marginTop:"8px",marginBottom:"25px",backgroundColor:e.baseColor.background.light},D.sm(e),{padding:"24px 24px 28px 24px"})},U=function(e){var n=e.isAmp,t=e.viewer,r=e.newsletterV3,i=e.newsletterV3LandingUrl,o=e.useCustomDomainLOFlow,a=e.isVertical;return n?r&&c.createElement(h,{newsletterV3:r,buttonLayout:"COMPACT",redirectUrl:i}):t||o?r&&c.createElement(y.x,{newsletterV3:r,buttonLayout:"COMPACT",helperTextColor:"DARKER",redirectUrl:o?i:void 0}):r&&c.createElement(S.QL,{newsletterV3:r,isVertical:a})},M=function(e){var n,t,r,i,o,a=e.postId,l=e.publisher,s=e.isVertical,u=void 0!==s&&s,d=c.useRef(null),f=(0,T.v9)((function(e){return e.config.authDomain})),g=(0,T.p9)((function(e){return e.config.isAmp})),v=(0,_.Av)(),h=(0,O.I)(),y=(0,E.H)().value,S=!!(0,b.VB)({name:"enable_newsletter_lo_flow_custom_domains",placeholder:!1}),D=!!(0,b.VB)({name:"enable_writer_subscription_to_all_users",placeholder:!1}),A=null==(0,T.v9)((function(e){return e.navigation.currentLocation})).match("http[s]?://[^/]*".concat(f)),F=!y&&A&&S,R=l.newsletterV3,L=null==R?void 0:R.type,M=l.username,j=void 0===M?"":M,W=(0,C.iBn)(null!==(n=null==R?void 0:R.slug)&&void 0!==n?n:"",f,L===I.Rr.NEWSLETTER_TYPE_COLLECTION?l:void 0,L===I.Rr.NEWSLETTER_TYPE_AUTHOR&&j?j:void 0),V="Collection"===l.__typename?l:void 0,H=(0,k.gY)(V).viewerEdge;switch(L){case I.Rr.NEWSLETTER_TYPE_COLLECTION:t="Sign up for ".concat(null==R?void 0:R.name),r="0px",i="You're an editor of ".concat(null==R?void 0:R.name),o=null==H?void 0:H.isEditor;break;case I.Rr.NEWSLETTER_TYPE_AUTHOR:t=D&&(null==R?void 0:R.promoHeadline)||"Get an email whenever ".concat(l.name," publishes."),r="6px",i="You cannot subscribe to yourself",o=l.viewerIsUser}var Y=!1,G=function(){!Y&&q()&&(v.event("newsletterV3.promoViewed",{newsletterV3Id:null==R?void 0:R.id,postId:a}),Y=!0)},q=function(){var e;if(!d.current)return!1;var n=null===(e=d.current)||void 0===e?void 0:e.getBoundingClientRect(),t=n.top+n.height/2;return t>=0&&t<=window.innerHeight};return c.useEffect((function(){return G(),window&&N.V6.on("scroll",G),function(){N.V6.off("scroll",G)}}),[]),R&&c.createElement(p.cW,{source:{name:"newsletter_v3_promo",susiEntry:"newsletter_v3_promo"}},c.createElement("div",{ref:d,className:u?void 0:h(B)},c.createElement(m.x,{paddingBottom:r},c.createElement(x.X6,{scale:{xs:"S",sm:"S",md:u?"S":"M",lg:u?"S":"M",xl:u?"S":"M"}},t)),L===I.Rr.NEWSLETTER_TYPE_COLLECTION&&c.createElement(c.Fragment,null,c.createElement(m.x,{paddingTop:"4px"},c.createElement(P.F,{tag:"h3",scale:"S",color:"DARKER"},"By ".concat(l.name))),c.createElement(m.x,{paddingTop:"8px",paddingBottom:"10px"},c.createElement(P.F,{scale:u?"S":{xs:"M",sm:"M",md:"L",lg:"L",xl:"L"},color:"DARKER"},null==R?void 0:R.description," ",!g&&c.createElement(w.r,{inline:!0,linkStyle:"OBVIOUS",href:W},"Take a look.")))),D&&L===I.Rr.NEWSLETTER_TYPE_AUTHOR&&(null==R?void 0:R.promoBody)&&c.createElement(c.Fragment,null,c.createElement(m.x,{paddingTop:"8px",paddingBottom:"8px"},c.createElement(P.F,{scale:{xs:"M",sm:"M",md:"L",lg:"L",xl:"L"},color:"DARKER"},null==R?void 0:R.promoBody))),o?c.createElement(m.x,{paddingTop:"10px"},c.createElement(P.F,{scale:"M",color:"DARKER"},i)):c.createElement(m.x,{display:"flex",flexWrap:"wrap"},c.createElement(U,{viewer:y,isAmp:g,useCustomDomainLOFlow:F,newsletterV3:R,newsletterV3LandingUrl:W,isVertical:u}))))}},68225:(e,n,t)=>{"use strict";t.d(n,{z:()=>U});var r=t(63038),i=t.n(r),o=t(59713),a=t.n(o),l=t(67294),c=t(60046),s=t(43689),u=t(56862),d=t(28655),m=t.n(d),p=t(71439),f=t(6401),g=t(51562),v=t(76532),h=t(62181),y=t(42933);function S(){var e=m()(["\n  fragment StickyMetaMobileActions_publisher on Publisher {\n    __typename\n    ... on Collection {\n      slug\n      ...StickyMetaMobileActions_collection\n    }\n    ... on User {\n      username\n      id\n    }\n  }\n  ","\n"]);return S=function(){return e},e}function b(){var e=m()(["\n  fragment StickyMetaMobileActions_post on Post {\n    id\n    collection {\n      ...StickyMetaMobileActions_collection\n    }\n    pendingCollection {\n      ...StickyMetaMobileActions_collection\n    }\n  }\n  ","\n"]);return b=function(){return e},e}function E(){var e=m()(["\n  fragment StickyMetaMobileActions_collection on Collection {\n    id\n    creator {\n      id\n    }\n  }\n"]);return E=function(){return e},e}var k=function(e){var n=e.post,t=e.publisher,r=(0,v.H)().value,i="Collection"===(null==t?void 0:t.__typename)?t.slug:void 0,o="User"===(null==t?void 0:t.__typename)?t.username:null;return l.createElement(y.x,{display:"none",sm:{display:"flex",alignItems:"center",flexGrow:"1"}},!r&&l.createElement(g.W,{featureString:"lo-sticky-header",target:"sign-up-button"},l.createElement(h.R9,{buttonSize:"REGULAR",buttonStyle:"OBVIOUS",isButton:!0,operation:"register",susiEntry:"nav_reg"},"Get started")),l.createElement(f.a,{collectionSlug:i,postId:null==n?void 0:n.id,removeSpacing:!!r,username:o}))},w=(0,p.Ps)(E()),x=((0,p.Ps)(b(),w),(0,p.Ps)(S(),w),t(65849)),P=t(75209),_=t(6688),O=t(99701),N=t(27108),I=t(14391),T=t(67297),D=t(80637),C=t(89349),A=t(74465),F=t(27952),R=function(e,n,t,r){return function(i){var o;return o={},a()(o,D.sm(i),{borderTop:"1px solid ".concat(i.baseColor.border.lighter),borderBottom:"1px solid ".concat(i.baseColor.border.lighter)}),a()(o,"backgroundColor",i.backgroundColor),a()(o,"left","0"),a()(o,"opacity",e?1:0),a()(o,"position","fixed"),a()(o,"right","0"),a()(o,"top","0"),a()(o,"visibility",n?"hidden":"visible"),a()(o,"zIndex","".concat(A.ZP.metabar)),a()(o,(0,C.nk)("no-preference"),{animation:"".concat(e?t:r," .2s ease-in-out both")}),o}},L={"0%":{opacity:"0",transform:"translateY(-60px)"},"100%":{opacity:"1",transform:"translateY(0px)"}},B={"0%":{opacity:"1",transform:"translateY(0px)"},"100%":{opacity:"0",transform:"translateY(-60px)"}},U=function(e){var n=e.headerScale,t=e.post,r=e.publisher,o=(0,T.v9)((function(e){return e.config.authDomain})),a=(0,_.I)(),d=l.useState(!1),m=i()(d,2),p=m[0],f=m[1],g=l.useState(!0),v=i()(g,2),h=v[0],S=v[1],b=(0,O.o)({slideDownKeyframesName:L}).slideDownKeyframesName,E=(0,O.o)({slideUpKeyframesName:B}).slideUpKeyframesName,w=(0,x.jb)(),D=(n||w.headerScale)===I.w6.HEADER_SCALE_SMALL;return l.useEffect((function(){var e;N.V6.on("scroll_down",(function(){e=D?s.Je+160:s.Je+230,window.pageYOffset>e&&(f(!0),S(!1))})),N.V6.on("scroll_up",(function(){e=D?s.Je+160:s.Je+230,window.pageYOffset<=e&&f(!1)}))})),l.createElement("div",{className:a(R(p,h,b,E))},l.createElement(P.P,{size:"outset"},l.createElement(y.x,{display:{xs:"block",sm:"block",md:"none",lg:"none",xl:"none"},height:"60px",top:"0",width:"100%",zIndex:A.ZP.metabar},l.createElement(y.x,{display:"flex",alignItems:"center",height:"100%"},l.createElement(k,{post:t,publisher:r}),l.createElement(u.e,{href:(0,F.cWJ)(o),ariaLabel:"Homepage"},l.createElement(c.YR,null))))))}},34793:(e,n,t)=>{"use strict";t.d(n,{$:()=>d,G:()=>m});var r=t(28655),i=t.n(r),o=t(71439),a=t(67294),l=t(12598),c=t(42933),s=t(90038);function u(){var e=i()(["\n  fragment SidebarProfilePic_user on User {\n    id\n    imageId\n  }\n"]);return u=function(){return e},e}var d=function(e){var n=e.user;return n.imageId?a.createElement(c.x,{marginBottom:"20px",maxHeight:"131px",maxWidth:"131px",overflow:"hidden"},a.createElement(l.E,{src:(0,s.W6)({miroId:n.imageId,width:131,height:131,strategy:s._S.Crop}),width:131})):null},m=(0,o.Ps)(u())},56365:(e,n,t)=>{"use strict";t.d(n,{f:()=>f,w:()=>g});var r=t(28655),i=t.n(r),o=t(67154),a=t.n(o),l=t(6479),c=t.n(l),s=t(71439),u=t(67294),d=t(85489),m=t(42933);function p(){var e=i()(["\n  fragment CustomBackgroundWrapper_customStyleSheet on CustomStyleSheet {\n    id\n    global {\n      colorPalette {\n        background {\n          ...getHexFromColorValue_colorValue\n        }\n      }\n    }\n  }\n  ","\n"]);return p=function(){return e},e}var f=function(e){var n=e.children,t=e.customStyleSheet,r=c()(e,["children","customStyleSheet"]);return u.useMemo((function(){var e,n;return(0,d.eQ)(null==t||null===(e=t.global)||void 0===e||null===(n=e.colorPalette)||void 0===n?void 0:n.background)}),[t])?u.createElement(m.x,a()({backgroundColor:"BACKGROUND"},r),n):u.createElement(m.x,r,n)},g=(0,s.Ps)(p(),d.xW)},51684:(e,n,t)=>{"use strict";t.d(n,{ZR:()=>f,HX:()=>v,b2:()=>h,hE:()=>y});var r=t(59713),i=t.n(r),o=t(67294),a=t(28859),l=t(43689),c=t(75209),s=t(42933),u=t(6688),d=t(27108),m=t(89349),p=t(21146),f=131,g=function(e){return{pointerEvents:e?"auto":"none"}},v=function(e){var n=e.children,t=e.disableTransition,r=e.isFixed,d=e.scrollableRef,p=e.sidebarRef,v=e.testId,h=e.topOffset,y=e.visible,S=e.fixedWidth,b=e.extraWide,E=void 0!==b&&b,k=(0,u.I)(),w=function(e){var n,t,r,c=e.isFixed,s=void 0===c||c,u=e.disableTransition,d=void 0!==u&&u,p=e.scrollableRef,f=e.topOffset,g=e.visible,v=e.fixedWidth,h=e.extraWide,y=void 0!==h&&h,S=(r=null===(n=o.useContext(a.u6).watchedBounds.get("header"))||void 0===n||null===(t=n.ref)||void 0===t?void 0:t.current)?r.offsetTop+r.offsetHeight+64:l.Je+54+40;return function(e){return function(n){var t,r=y?"@media all and (max-width: 1240px)":(0,m.uc)(n,e,n.grid.xStep*n.grid.marginSteps.lg,p&&"current"in p?p.current:null),o=void 0===f?S:f;return t={opacity:g?1:0,pointerEvents:"none",position:s?"fixed":"absolute",willChange:"opacity, transform",width:v?"".concat(v,"px"):"100%",transform:"translateY(".concat(o,"px)"),top:0},i()(t,(0,m.nk)("no-preference"),{transition:d?"opacity 0s":"opacity 200ms"}),i()(t,r,{display:"none"}),t}}}({isFixed:r,scrollableRef:d,topOffset:h,visible:y,disableTransition:t,fixedWidth:S,extraWide:E}),x=E?197:f;return o.createElement("div",{className:k(w(x)),"data-test-id":v},o.createElement(c.P,{size:"outset"},o.createElement(s.x,{display:"flex",flexDirection:"column",width:"".concat(x,"px"),ref:p},o.createElement("div",{className:k(g(y))},n))))},h=function(e,n,t,r){if(!e)return!1;var i=r.threshold||10,o=Array.from(n.values()).filter((function(e){var n,r=e.ref,i=e.opts;return t.includes(null!==(n=i.type)&&void 0!==n?n:"")&&!!r.current})).map((function(e){var n=e.ref,t=e.opts,r=t&&t.offset,i=(0,p.L6)(n.current);return(0,p.Dd)(i,r)})),a=(0,p.L6)(e),l=0===a.width;return!o.some((function(e){return(0,p.kK)(e,a,i)}))&&!l},y=function(e,n){var t=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=t?"scroll_throttled":"scroll";return function(){var t=(0,d.jC)(null!=n?n:void 0);return t.on(r,e),t.on("scroll_end",e),t.on("resize_throttled",e),function(){t.off(r,e),t.off("scroll_end",e),t.off("resize_throttled",e)}}}},91547:(e,n,t)=>{"use strict";t.d(n,{Hr:()=>m,gs:()=>v,qt:()=>p,Zz:()=>h,Uh:()=>f,Zd:()=>g});var r=t(319),i=t.n(r),o=[{kind:"FragmentDefinition",name:{kind:"Name",value:"OAuthClickable_query"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Query"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"accountToken"}}]}}],a={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"AppleSusiButton_query"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Query"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"OAuthClickable_query"}}]}}].concat(i()(o))},l={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"FacebookSusiButton_query"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Query"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"OAuthClickable_query"}}]}}].concat(i()(o))},c={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"GoogleSusiButton_query"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Query"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"OAuthClickable_query"}}]}}].concat(i()(o))},s={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"TwitterSusiButton_query"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Query"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"OAuthClickable_query"}}]}}].concat(i()(o))},u={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"SignInOptions_query"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Query"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"AppleSusiButton_query"}},{kind:"FragmentSpread",name:{kind:"Name",value:"FacebookSusiButton_query"}},{kind:"FragmentSpread",name:{kind:"Name",value:"GoogleSusiButton_query"}},{kind:"FragmentSpread",name:{kind:"Name",value:"TwitterSusiButton_query"}},{kind:"FragmentSpread",name:{kind:"Name",value:"EmailSusiButton_query"}}]}}].concat(i()(a.definitions),i()(l.definitions),i()(c.definitions),i()(s.definitions),i()([{kind:"FragmentDefinition",name:{kind:"Name",value:"EmailSusiButton_query"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Query"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"accountToken"}}]}}]))},d={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"SignUpOptions_query"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Query"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"FacebookSusiButton_query"}},{kind:"FragmentSpread",name:{kind:"Name",value:"GoogleSusiButton_query"}}]}}].concat(i()(l.definitions),i()(c.definitions))},m={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"SusiContainer_collection"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Collection"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"FragmentSpread",name:{kind:"Name",value:"SignInOptions_collection"}},{kind:"FragmentSpread",name:{kind:"Name",value:"SignUpOptions_collection"}}]}}].concat(i()([{kind:"FragmentDefinition",name:{kind:"Name",value:"SignInOptions_collection"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Collection"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"name"}}]}}]),i()([{kind:"FragmentDefinition",name:{kind:"Name",value:"SignUpOptions_collection"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Collection"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"name"}}]}}]))},p={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"SusiContainer_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}}]}}]},f={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"SusiContainer_topic"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Topic"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"SignInOptions_topic"}},{kind:"FragmentSpread",name:{kind:"Name",value:"SignUpOptions_topic"}}]}}].concat(i()([{kind:"FragmentDefinition",name:{kind:"Name",value:"SignInOptions_topic"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Topic"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"name"}}]}}]),i()([{kind:"FragmentDefinition",name:{kind:"Name",value:"SignUpOptions_topic"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Topic"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"name"}}]}}]))},g={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"SusiContainer_user"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"User"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"SignInOptions_user"}},{kind:"FragmentSpread",name:{kind:"Name",value:"SignUpOptions_user"}}]}}].concat(i()([{kind:"FragmentDefinition",name:{kind:"Name",value:"SignInOptions_user"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"User"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"name"}}]}}]),i()([{kind:"FragmentDefinition",name:{kind:"Name",value:"SignUpOptions_user"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"User"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"name"}}]}}]))},v={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"SusiContainer_newsletterV3"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"NewsletterV3"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"SignInOptions_newsletterV3"}},{kind:"FragmentSpread",name:{kind:"Name",value:"SignUpOptions_newsletterV3"}}]}}].concat(i()([{kind:"FragmentDefinition",name:{kind:"Name",value:"SignInOptions_newsletterV3"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"NewsletterV3"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"name"}}]}}]),i()([{kind:"FragmentDefinition",name:{kind:"Name",value:"SignUpOptions_newsletterV3"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"NewsletterV3"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"name"}}]}}]))},h={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"SusiContainer_query"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Query"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"SignInOptions_query"}},{kind:"FragmentSpread",name:{kind:"Name",value:"SignUpOptions_query"}}]}}].concat(i()(u.definitions),i()(d.definitions))}},85714:(e,n,t)=>{"use strict";t.d(n,{Lv:()=>m,v:()=>p,QX:()=>f});var r=t(28655),i=t.n(r),o=t(71439),a=t(67294),l=t(12291),c=t(53976),s=t(85277);function u(){var e=i()(["\n  fragment SuspendedBannerLoader_post on Post {\n    id\n    isSuspended\n  }\n"]);return u=function(){return e},e}function d(){var e=i()(["\n  fragment SuspendedBannerLoader_user on User {\n    id\n    isSuspended\n  }\n"]);return d=function(){return e},e}var m=function(e){var n=e.user,t=e.post,r=e.forceLoad,i=void 0!==r&&r,o=(0,l.I0)(),u=(0,c.VB)({name:"can_view_suspended_content",placeholder:!1})||i;return a.useEffect((function(){u&&(n&&n.isSuspended?o((0,s.Dx)({duration:"NEXTPAGE",toastStyle:"USER_SUSPENDED"})):t&&t.isSuspended&&o((0,s.Dx)({duration:"NEXTPAGE",toastStyle:"POST_SUSPENDED",extraParams:{postId:(null==t?void 0:t.id)||""}})))}),[u]),null},p=(0,o.Ps)(d()),f=(0,o.Ps)(u())},55226:(e,n,t)=>{"use strict";t.d(n,{gc:()=>lt,De:()=>st,m6:()=>ut});var r=t(28655),i=t.n(r),o=t(67154),a=t.n(o),l=t(59713),c=t.n(l),s=t(63038),u=t.n(s),d=t(71439),m=t(67294),p=t(12291),f=t(28859),g=t(7893),v=t(17305),h=t(45113),y=t(9972),S=t(11334),b=t(94132),E=t(26463),k=t(62872),w=t(87508),x=t(69625),P=t(47578),_=t(42963),O=t(76532),N=t(73891),I=t(67297),T=t(27952);function D(){var e=i()(["\n  fragment MaybeRedirectToEditor_post on Post {\n    id\n    isPublished\n    collection {\n      id\n    }\n    creator {\n      id\n    }\n  }\n"]);return D=function(){return e},e}var C=function(e){var n=e.children,t=e.post,r=(0,I.v9)((function(e){return e.config.authDomain})),i=(0,O.H)().value,o=t.collection,a=t.creator&&i&&t.creator.id===i.id,l=(0,N.gY)(o).viewerEdge;return!t.isPublished&&(!o&&a||a&&null!=l&&l.canEditOwnPosts||null!=l&&l.isEditor||null!=l&&l.canEditPosts)?m.createElement(_.l,{to:(0,T.d0A)(r,t.id)}):m.createElement(m.Fragment,null,n)},A=(0,d.Ps)(D()),F=t(66371),R=t(55253),L=t(12653),B=t(70405),U=t(319),M=t.n(U),j=t(82492),W=t.n(j),V=t(68254),H=t.n(V),Y=t(70450),G=t(90038),q=t(96879),z=t(22744),K=t(61598);function X(){var e=i()(["\n  fragment PostJsonLd_post on Post {\n    id\n    title\n    seoTitle\n    mediumUrl\n    creator {\n      name\n      username\n      ...userUrl_user\n    }\n    collection {\n      id\n      name\n      domain\n      slug\n      logo {\n        id\n        originalWidth\n        originalHeight\n      }\n    }\n    previewImage {\n      id\n      focusPercentX\n      focusPercentY\n      originalWidth\n      originalHeight\n    }\n    isLocked\n    firstPublishedAt\n    updatedAt\n    isShortform\n    shortformType\n    structuredData\n    ...getTitleForPost_post\n  }\n  ","\n  ","\n"]);return X=function(){return e},e}function Q(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function J(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?Q(Object(t),!0).forEach((function(n){c()(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Q(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var $=(0,p.$j)((function(e){var n=e.config,t=n.productName,r=n.defaultImages,i=n.collectionStructuredData,o=e.navigation;return{currentLocation:o.currentLocation,host:o.host,productName:t,defaultImages:r,collectionStructuredData:i}}))((function(e){var n=e.currentLocation,t=e.host,r=e.post,i=e.postDescription,o=e.productName,a=e.defaultImages,l=e.collectionStructuredData,c=r.collection,s=r.creator,u=r.id,d=r.mediumUrl,p=r.isLocked,f=r.previewImage,g=r.firstPublishedAt,v=r.updatedAt,h=r.structuredData,y=(0,z._t)(r,o),S={id:a.postLogo.imageId,originalWidth:a.postLogo.width,originalHeight:a.postLogo.height},b={id:a.orgLogo.imageId,originalWidth:a.orgLogo.width,originalHeight:a.orgLogo.height},E=c?{"@type":"Organization",name:c.name,url:c.domain||(0,q.l1)(t,(0,T.WGd)(c,n)),logo:function(e){if(!e||!e.logo||!e.logo.id)return(0,Y.lc)(b);var n=(0,Y.lc)(e.logo);return n&&60===n.height&&n.width<=600?n:(0,Y.lc)(b)}(c)}:{"@type":"Organization",name:o,url:(0,q.l1)(t,"/"),logo:(0,Y.lc)(b)};c&&l&&l[c.id]&&W()(E,l[c.id].data);var k=f&&f.id?(0,Y.Y4)(J(J({},f),{},{miroId:f.id,croppedWidth:1200})):(0,Y.NJ)({url:(0,G.W6)({miroId:S.id,width:S.originalWidth}),height:S.originalHeight,width:S.originalWidth}),w=i||"",x=p?{isAccessibleForFree:"False",hasPart:{"@type":"WebPageElement",isAccessibleForFree:"False",cssSelector:".meteredContent"}}:{},P={"@context":"http://schema.org"},_=J({"@type":"NewsArticle",image:k,url:d,dateCreated:g&&new Date(g).toISOString(),datePublished:g&&new Date(g).toISOString(),dateModified:v&&new Date(v).toISOString(),headline:y,name:y,description:w,identifier:u,author:s&&s.name&&s.username?{"@type":"Person",name:s.name||s.username,url:(0,T.AWr)(s,t)}:null,creator:s&&[s.name],publisher:E,mainEntityOfPage:d},x),O=J(J({},P),_);if(h&&h.length>0)try{var N=JSON.parse(h);if(N&&null!=N&&N["@graph"]&&(null==N?void 0:N["@graph"].length)>0){var I=((null==N?void 0:N["@graph"])||[]).filter((function(e){return(null==e?void 0:e["@type"])&&"NewsArticle"!==(null==e?void 0:e["@type"])}));I&&I.length>0&&(O=J(J({},P),{},{"@graph":[_].concat(M()(I))}))}}catch(e){}return m.createElement(B.q,null,m.createElement("script",{type:"application/ld+json"},H()(O,{isJSON:!0})))})),Z=(0,d.Ps)(X(),z.bq,K.$),ee=t(27390),ne=t(71794);function te(){var e=i()(["\n  fragment PostMetadata_post on Post {\n    id\n    socialTitle\n    socialDek\n    noIndex\n    curationStatus\n    canonicalUrl\n    mediumUrl\n    metaDescription\n    latestPublishedAt\n    visibility\n    isLimitedState\n    readingTime\n    creator {\n      name\n      twitterScreenName\n      ...userUrl_user\n    }\n    collection {\n      ampEnabled\n      twitterUsername\n      facebookPageId\n    }\n    previewContent {\n      subtitle\n    }\n    previewImage {\n      id\n      focusPercentX\n      focusPercentY\n      originalHeight\n      originalWidth\n    }\n    isShortform\n    noIndex\n    curationStatus\n    ...PostJsonLd_post\n    ...postMetaDescription_post\n    ...shortformPostMetaDescription_post\n    ...shouldIndexPost_post\n    ...shortformPostTitle_post\n    ...getTitleDetails_post\n    ...getTitleForPost_post\n  }\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n"]);return te=function(){return e},e}function re(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function ie(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?re(Object(t),!0).forEach((function(n){c()(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):re(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var oe=(0,p.$j)((function(e){return{authDomain:e.config.authDomain,host:e.navigation.host,productName:e.config.productName}}))((function(e){var n,t,r=e.isAmp,i=e.host,o=e.authDomain,a=e.productName,l=e.post,c=l.canonicalUrl,s=l.collection,u=l.creator,d=l.id,p=l.latestPublishedAt,f=l.mediumUrl,g=l.previewContent,v=l.socialTitle,h=l.socialDek,y=l.visibility,S=l.isShortform,b=s&&s.ampEnabled,E=u&&u.name,k=(0,z.yB)(l),w=l.title||"",x=k.latestTitle||w;if(S){var P=ie(ie({},l),{},{title:x});n=(0,z.oS)(P,a,k.hasTitleGraf).trim(),t=(0,ne.OO)(l,k.hasTitleGraf)}else n=(0,z._t)(l,a,k,!0).trim(),t=(0,ne.j7)(l);var _,O,N=h||g&&g.subtitle||t;if(l&&l.previewImage&&l.previewImage.id&&!l.isLimitedState){var I=l.previewImage;_=(0,G.vz)({miroId:I.id,aspectRatio:1.9,croppedWidth:I.originalWidth?Math.min(I.originalWidth,1200):1200,originalWidth:I.originalWidth,originalHeight:I.originalHeight,focusPercentX:I.focusPercentX,focusPercentY:I.focusPercentY})}else if(l.isLimitedState){var D={id:"1*3SjgcTt7wCYYS10ff6-0JQ.png",originalWidth:748,originalHeight:390,focusPercentX:50,focusPercentY:40};_=(0,G.vz)({miroId:D.id,aspectRatio:1.9,croppedWidth:D.originalWidth?Math.min(D.originalWidth,1200):1200,originalWidth:D.originalWidth,originalHeight:D.originalHeight,focusPercentX:D.focusPercentX,focusPercentY:D.focusPercentY})}u&&u.username&&(O=(0,T.AWr)(u,o));var C=(0,T.CK_)(d),A=!(0,z.c_)(l),F=p&&new Date(p).toISOString(),R=(0,ee.Vd)(l.readingTime||0),L=u&&u.twitterScreenName,U=s&&s.twitterUsername||"Medium",M=s&&s.facebookPageId,j=v||w||x;l.isLimitedState&&(j="");var W=l.isLimitedState?"":N,V=m.useMemo((function(){var e;return m.createElement(B.q,{htmlAttributes:r?{amp:void 0}:{}},m.createElement("meta",{property:"og:type",content:"article"}),F&&m.createElement("meta",{property:"article:published_time",content:F}),b&&!r?m.createElement("link",{rel:"amphtml",href:(0,T.VcI)(i,d)}):null,m.createElement("title",null,n),m.createElement("meta",{name:"title",content:n}),m.createElement("meta",{property:"og:title",content:j}),m.createElement("meta",{property:"twitter:title",content:j}),M&&m.createElement("meta",{property:"fb:pages",content:M}),m.createElement("meta",{name:"twitter:site",content:"@".concat(U)}),m.createElement("meta",{name:"twitter:app:url:iphone",content:C}),m.createElement("meta",{property:"al:android:url",content:C}),m.createElement("meta",{property:"al:ios:url",content:C}),m.createElement("meta",{property:"al:android:app_name",content:"Medium"}),t&&m.createElement("meta",{name:"description",content:t}),N&&m.createElement("meta",{property:"og:description",content:W}),N&&m.createElement("meta",{property:"twitter:description",content:W}),m.createElement("meta",{property:"og:url",content:null!=f?f:void 0}),m.createElement("meta",{property:"al:web:url",content:null!=f?f:void 0}),_&&m.createElement("meta",{property:"og:image",content:_}),_&&m.createElement("meta",{name:"twitter:image:src",content:_}),m.createElement("meta",{name:"twitter:card",content:_?"summary_large_image":"summary"}),O&&m.createElement("meta",{property:"article:author",content:O}),O&&m.createElement("link",{rel:"author",href:O}),L&&m.createElement("meta",{name:"twitter:creator",content:"@".concat(L)}),E&&m.createElement("meta",{name:"author",content:E}),m.createElement("link",{rel:"canonical",href:null!==(e=c||f)&&void 0!==e?e:void 0}),m.createElement("link",{rel:"alternate",href:(0,T.zix)((0,T.o2w)("medium.com",l.id))}),m.createElement("meta",{name:"robots",content:"".concat(A?"noindex":"index",",follow,max-image-preview:large")}),m.createElement("meta",{name:"referrer",content:"UNLISTED"!==y?"unsafe-url":"origin"}),r?null:m.createElement("meta",{name:"twitter:label1",content:"Reading time"}),r?null:m.createElement("meta",{name:"twitter:data1",content:"".concat(R," min read")}))}),[r,n,c,f,_,b,d,v,t,O,E,L,C,A,F]);return m.createElement(m.Fragment,null,V,m.createElement($,{post:l,postDescription:t}))})),ae=(0,d.Ps)(te(),Z,ne.iI,ne.m3,z.HF,z.Pz,z.dm,z.bq,K.$),le=t(80439),ce=t(89423),se=t(1932),ue=t(32272),de=t(42933),me=t(82318),pe=t(55099),fe=t(77284),ge=t(3149),ve=t(98024),he=t(17614),ye=t(27108),Se=t(14391),be=t(85277),Ee=t(8403),ke=t(67122),we=t(76579);function xe(){var e=i()(["\n  fragment PostPublishedDialog_prerequisite_post on Post {\n    id\n    creator {\n      id\n    }\n    collection {\n      id\n    }\n  }\n"]);return xe=function(){return e},e}function Pe(){var e=i()(["\n  query PostPublishedDialogQuery($postId: ID!) {\n    post(id: $postId) {\n      id\n      ...PostPublishedDialog_post\n    }\n  }\n  ","\n"]);return Pe=function(){return e},e}function _e(){var e=i()(["\n  fragment PostPublishedDialog_post on Post {\n    id\n    inResponseToPostResult {\n      __typename\n    }\n    inResponseToCatalogResult {\n      __typename\n    }\n    visibility\n    curationEligibleAt\n    mediumUrl\n    isNewsletter\n    isPublishToEmail\n    creator {\n      id\n    }\n    isMarkedPaywallOnly\n    ...SharePostButton_post\n  }\n  ","\n"]);return _e=function(){return e},e}var Oe=function(){return m.createElement(de.x,null,m.createElement(me.r,{inline:!0,linkStyle:"OBVIOUS",href:(0,T.Scj)()},"Learn more")," ","about what happens to your post when you publish.")};var Ne,Ie=(0,d.Ps)(_e(),ue.o),Te=(0,d.Ps)(Pe(),Ie),De=function(e){var n=e.url,t=e.label,r=e.post,i={postId:null==r?void 0:r.id,source:"post_publish_dialog"};return m.createElement(we.b,a()({url:n},i),(function(e){return m.createElement(de.x,{marginBottom:"8px"},m.createElement(pe.z,{buttonStyle:"SOCIAL",size:"REGULAR",width:"212px",onClick:function(e){return e}},m.createElement(de.x,{display:"flex",alignItems:"center",justifyContent:"center"},e?"Copied!":t)))}))},Ce=function(e){var n=e.post,t=e.isUnlisted,r=e.postPath;return m.createElement(de.x,{display:"flex",flexDirection:"column",alignItems:"center"},m.createElement(ve.F,{color:"DARKER",scale:"L"},function(e){return e?"Share your story outside Medium.":"Share your story with the world."}(t)),m.createElement(de.x,{marginTop:"20px"},!t&&m.createElement(m.Fragment,null,m.createElement(de.x,{marginBottom:"8px"},m.createElement(ue.f,{socialPlatform:"FACEBOOK",buttonStyle:"BUTTON_BRANDED",post:n})),m.createElement(de.x,{marginBottom:"8px"},m.createElement(ue.f,{socialPlatform:"TWITTER",buttonStyle:"BUTTON_BRANDED",post:n})),m.createElement(de.x,{marginBottom:"8px"},m.createElement(ue.f,{socialPlatform:"LINKEDIN",buttonStyle:"BUTTON_BRANDED",post:n}))),m.createElement(De,{url:r,label:"Copy story link",post:n})))},Ae=function(e){var n=e.viewerId,t=e.isVisible,r=e.hide,i=e.post,o=i.id,a=i.visibility,l=i.curationEligibleAt,c=i.mediumUrl,s=i.isNewsletter,u=i.isPublishToEmail,d=i.isMarkedPaywallOnly,p=i.creator,f=(0,se.Tf)(i),g=f.viewerEdge,v=f.loading,h="UNLISTED"===a,y=!!l,S=(null==g?void 0:g.creatorPartnerProgramEnrollmentStatus)===Se.iR.ENROLLED,b=null==g?void 0:g.shareKey,E=(0,I.v9)((function(e){return e.config.productName})),k="Your story is published!";return u&&n===(null==p?void 0:p.id)?k="Your story has been published and sent!":s&&(k="Your newsletter is on its way!"),v?null:m.createElement(fe.V,{isVisible:t,hide:r,withAnimation:!0,withCloseButton:!1},m.createElement(de.x,{background:ke.ix,borderRadius:"4px",boxShadow:"0 2px 10px ".concat((0,ke.Uy)(.15)),position:"relative",width:"900px",textAlign:"center",md:{width:"600px"},sm:{width:"calc(100vw - 128px)"}},m.createElement(de.x,{padding:"56px",display:"flex",flexDirection:"column",justifyContent:"center",minHeight:"485px"},m.createElement(de.x,{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"},m.createElement(he.F1,{scale:"L",tag:"h3"},k),m.createElement(de.x,{maxWidth:"520px",marginTop:"20px"},m.createElement(ve.F,{color:"DARKER",scale:"L"},function(e,n,t,r,i,o){return r?function(e,n){return e?"Your email will be delivered to your newsletter subscribers and editors, but will not appear publicly on ".concat(n,"."):m.createElement(m.Fragment,null,"Your subscribers and editors should have it soon. It’ll also show up on ",n," readers’ homepages and Digest emails depending on their interests."," ",m.createElement(me.r,{inline:!0,linkStyle:"OBVIOUS",href:"https://help.medium.com/hc/en-us/articles/115004682167-How-to-use-Newsletters"},"Learn more"))}(e,o):e?"Your unlisted story will not appear publicly on ".concat(o,", but you can still share it."):i?"You've chosen this story to be member-only. Anyone can see a short preview but only paying members can read the full story.":t?n?m.createElement(m.Fragment,null,"As a member of the Partner Program, you’ve chosen to make this story eligible to earn money. It will be part of ",o,"’s metered paywall.",m.createElement(Oe,null)):m.createElement(m.Fragment,null,"You did not choose to make this story eligible to earn money. It will not be part of"," ",o,"’s metered paywall.",m.createElement(Oe,null)):m.createElement(m.Fragment,null,"This story isn’t currently eligible to earn money. To make this story eligible, join the"," ",o," Partner Program."," ",m.createElement(me.r,{inline:!0,linkStyle:"OBVIOUS",href:"https://medium.com/earn"},"Learn more."))}(h,y,S,s,null!=d&&d,E))),m.createElement(de.x,{paddingTop:"20px"},y&&!h&&c&&b&&m.createElement(De,{url:(0,q.Rk)((0,T.jVf)(i),{sk:b}),label:"Copy Friend Link",post:i})),m.createElement(de.x,{borderBottom:"BASE_LIGHTER",width:"100%",margin:"20px 0"})),o&&c&&m.createElement(Ce,{post:i,isUnlisted:h,postPath:(0,T.jVf)(i)})),m.createElement(ge.P,{onClick:r,size:"LARGE"})))};!function(e){e.initial="initial",e.repub="repub"}(Ne||(Ne={}));var Fe=function(e){var n=e.post,t=m.useState(!1),r=u()(t,2),i=r[0],o=r[1],a=m.useCallback((function(){return o(!1)}),[o]),l=(0,p.I0)(),c=(0,Ee.Wd)("postPublishedType"),s=(0,N.gY)(n.collection).viewerEdge;m.useEffect((function(){switch(c){case Ne.initial:o(!0);break;case Ne.repub:l((0,be.Dx)({duration:3e3,message:"Your changes have been published."}))}}),[c]);var d=m.useState(!1),f=u()(d,2),g=f[0],v=f[1];return g?m.createElement(ce.I,null,(function(e){return null!=e&&e.id&&(e.id===(n.creator&&n.creator.id)||n.collection&&null!=s&&s.isEditor)?m.createElement(le.AE,{ssr:!1,query:Te,variables:{postId:n.id}},(function(n){var t=n.loading,r=n.data,o=(r=void 0===r?{}:r).post;return t||!o||o.inResponseToPostResult||o.inResponseToCatalogResult?null:m.createElement(Ae,{isVisible:i,hide:a,post:o,viewerId:e.id})})):null})):(ye.V6.on("load",(function(){return v(!0)})),null)},Re=(0,d.Ps)(xe()),Le=t(46829),Be=t(50008),Ue=t.n(Be),Me=t(51684),je=t(83021),We=t(6688),Ve=m.forwardRef((function(e,n){var t,r=e.children,i=m.useRef(null),o=m.useRef(null),a=m.useContext(f.u6).watchedBounds,l=m.useState(!0),c=u()(l,2),s=c[0],d=c[1],p=m.useState(0),g=u()(p,2),v=g[0],h=g[1],y=function(e){var n,t="object"===Ue()(e)?null==e?void 0:e.current:null,r=null==t?void 0:t.getBoundingClientRect();return 100+(null!==(n=null==r?void 0:r.top)&&void 0!==n?n:0)}(n),S=null===(t=i.current)||void 0===t?void 0:t.offsetHeight,b=(0,We.I)(),E=.45*window.innerHeight-20,k=S?window.innerHeight-S-20:E-20,w=m.useCallback((function(){var e;!function(e,n,t,r){e.current&&t((0,Me.b2)(e.current,n,["image","bgimage","footer","byline","title","header"],{threshold:10}))}(i,a,d);var n=(0,je.Ui)(v,y,null===(e=i.current)||void 0===e?void 0:e.clientHeight);n!==v&&h(n);var t=1320,r=window.innerWidth-t;null!=o&&o.current&&(window.innerWidth>=t&&(o.current.style.right="".concat(r,"px")),window.innerWidth<t&&(o.current.style.right="0px"))}),[a,v,y]);m.useEffect((function(){w(),window.scroll(0,2),window.scroll(0,0)}),[]);var x="object"===Ue()(n)?n:null;m.useEffect((0,Me.hE)(w,null==x?void 0:x.current),[w,null==x?void 0:x.current]);var P=s;return m.createElement("div",{className:b({minWidth:"300px",position:"fixed",right:"0"}),ref:o},m.createElement(Me.HX,{sidebarRef:i,scrollableRef:n,visible:P,topOffset:k,isFixed:!0,extraWide:!0},m.createElement(de.x,null,r)))})),He=t(52818),Ye=t(51512),Ge=t(15699);function qe(){var e=i()(["\n  query FetchRecirc($postId: String) {\n    recirc(postId: $postId) {\n      items {\n        ... on RexRecircItem {\n          post {\n            id\n            ...ReadNextPostCard_post\n            ...PostPresentationTracker_post\n          }\n          feedId\n        }\n      }\n    }\n  }\n  ","\n  ","\n"]);return qe=function(){return e},e}var ze=function(e){var n;return{fontWeight:null!==(n=e.newFonts.detail.boldWeight)&&void 0!==n?n:"bold"}},Ke=function(e){var n,t=e.postId,r=(0,Le.useQuery)(Xe,{variables:{postId:t}}),i=r.data,o=r.loading,a=r.error,l=(0,We.I)(),c=null==i||null===(n=i.recirc)||void 0===n?void 0:n.items;if(a||o||null==c||!c.length)return null;var s=c.slice(0,4);return m.createElement(Ve,null,m.createElement(de.x,null,m.createElement(ve.F,{scale:"M",color:"LIGHTER"},m.createElement("strong",{className:l(ze)},"Related")),m.createElement(de.x,{display:"flex",flexDirection:"column",marginTop:"24px",bottom:"40px"},s.map((function(e,n){return null!=e&&e.post?m.createElement(Ye.cW,{source:{name:"read_next_recirc",index:n,feedId:e.feedId||void 0},key:"post-page-read-next-recirc".concat(t,"-").concat(n)},m.createElement(Ge.o,{post:e.post,presentationContext:"POST_PREVIEW"},m.createElement(He.N,{post:e.post,shouldDisplayTopic:!1,shouldDisplayClapCount:!0}))):null})))))},Xe=(0,d.Ps)(qe(),He.Q,Ge.h);function Qe(){var e=i()(["\n  query FetchRecircLO($postId: ID!) {\n    post(id: $postId) {\n      internalLinks {\n        items {\n          id\n          ...ReadNextPostCard_post\n          ...PostPresentationTracker_post\n        }\n      }\n    }\n  }\n  ","\n  ","\n"]);return Qe=function(){return e},e}var Je=function(e){var n;return{fontWeight:null!==(n=e.newFonts.detail.boldWeight)&&void 0!==n?n:"bold"}},$e=function(e){var n,t,r=e.postId,i=(0,Le.useQuery)(Ze,{variables:{postId:r}}),o=i.data,a=i.loading,l=i.error,c=(0,We.I)(),s=null==o||null===(n=o.post)||void 0===n||null===(t=n.internalLinks)||void 0===t?void 0:t.items;if(l||a||null==s||!s.length)return null;var u=s.slice(0,4);return m.createElement(Ve,null,m.createElement(de.x,null,m.createElement(ve.F,{scale:"M",color:"LIGHTER"},m.createElement("strong",{className:c(Je)},"Related")),m.createElement(de.x,{display:"flex",flexDirection:"column",marginTop:"24px",bottom:"40px"},u.map((function(e,n){return e?m.createElement(Ye.cW,{source:{name:"read_next_recirc",index:n},key:"post-page-read-next-recirc-lo-".concat(r,"-").concat(n)},m.createElement(Ge.o,{post:e,presentationContext:"POST_PREVIEW"},m.createElement(He.N,{post:e,shouldDisplayTopic:!1,shouldDisplayClapCount:!0}))):null})))))},Ze=(0,d.Ps)(Qe(),He.Q,Ge.h),en=t(49925),nn=t(10103),tn=t(59877);function rn(){var e=i()(["\n  fragment PostScreenThemeProvider_post on Post {\n    collection {\n      ...CustomThemeProvider_publisher\n      ...auroraHooks_publisher\n    }\n    creator {\n      ...CustomThemeProvider_publisher\n      ...auroraHooks_publisher\n    }\n    customStyleSheet {\n      ...CustomThemeProvider_customStyleSheet\n    }\n  }\n  ","\n  ","\n  ","\n"]);return rn=function(){return e},e}var on,an=function(e){var n=e.children,t=e.post,r=t.collection||t.creator,i=(0,en.GT)(r),o=t.customStyleSheet;return i?m.createElement(nn.G8,{customStyleSheet:o,publisher:r},n):m.createElement(nn.G8,{customStyleSheet:null,publisher:r},m.createElement(tn.r,null,n))},ln=(0,d.Ps)(rn(),nn.Kc,nn.Ps,en.C5),cn=t(62182),sn=t(50493),un=t(15789),dn=t(80870),mn=t(50188),pn=t(24881),fn=t(68225),gn=t(56365),vn=function(e){var n=e.children,t=e.rule,r=(0,We.I)(),i=t?r(t):"";return i?m.createElement("div",{className:i},n):m.createElement(m.Fragment,null,n)},hn=t(85489),yn=t(73788),Sn=t(53976),bn=t(47552),En=t(36511),kn=t(37395),wn=t(32589),xn=t(52788),Pn=t(85714),_n=t(51562),On=t(324),Nn=t(37258),In=t(19608),Tn=t(27168),Dn=t(48881),Cn=t(59317),An=t(4709),Fn=t(98281),Rn=t(95760),Ln=t(33572),Bn=t(81591),Un=t(69332),Mn="alternate_user_top_banner",jn=function(e){var n=e.userSocialLogins,t=(0,Cn.j)().openModal;return n.facebook||n.google||n.twitter?m.createElement(In.r,{userSocialLogins:n}):m.createElement(Nn.o,{onSuccess:function(){return t({step:"CHECK_YOUR_INBOX",operation:"login",susiEntry:Mn})},userId:n.userId},(function(e){var n=e.handleSubmit;return m.createElement(pe.z,{buttonStyle:"SOCIAL",size:"REGULAR",onClick:n},"Send login link")}))},Wn=function(){var e=(0,O.H)().value,n=(0,En.r)().viewerId,t=(0,p.I0)(),r=(0,Rn.Av)(),i=m.useState(!1),o=u()(i,2),a=o[0],l=o[1],c=m.useState("loading"),s=u()(c,2),d=s[0],f=s[1];return m.useEffect((function(){t((0,Un.e6)(!0)),l(!0)}),[]),m.useEffect((function(){"rendered"===d&&t((0,Bn.T)(!0)),"not_eligible"===d&&t((0,Un.e6)(!1))}),[d]),m.createElement(Ye.cW,{source:{susiEntry:Mn}},m.createElement(Dn.o,{postRenderCallback:function(e,t,i){f(t?"rendered":"not_eligible"),t&&(r.event("experiment.eligible",{experimentId:"358323e239a2"}),r.event("alternateUserBanner.viewed",{alternateUserSuggestionAccountType:(0,Ln.S)(i),alternateUserSuggestionTargetUserId:i.userId,alternateUserSuggestionSourceUserId:n}))}},(function(t){var i,o=t.showSuggestedAccount,l=t.declineSuggestedAccount,c=t.userSocialLogins;return a&&o&&l&&c?m.createElement(On.N8,null,m.createElement(An.Y,{onClose:function(){return r.event("alternateUserBanner.dismissed",{alternateUserSuggestionAccountType:(0,Ln.S)(c),alternateUserSuggestionTargetUserId:c.userId,alternateUserSuggestionSourceUserId:n})}},m.createElement(de.x,{alignItems:"flex-start",display:"flex",flexDirection:"column",sm:{alignItems:"center"}},m.createElement(de.x,{alignItems:"center",display:"flex",marginBottom:"21px",sm:{flexDirection:"column",margin:"0 21px 21px",textAlign:"center"}},!e&&(null===(i=c.userAvatar)||void 0===i?void 0:i.imageId)&&m.createElement(de.x,{display:"flex",marginRight:"20px",sm:{marginBottom:"18px",marginRight:"0"}},m.createElement(Fn.Yt,{scale:"S",user:{__typename:"User",id:c.userId,name:c.userAvatar.name,username:c.userAvatar.username,imageId:c.userAvatar.imageId,mediumMemberAt:c.userAvatar.mediumMemberAt,customDomainState:null,hasSubdomain:!1}})),m.createElement(_n.W,{featureString:"alternate-user-top-banner",target:"header"},m.createElement(ve.F,{color:"DARKER",scale:"M"},function(e,n){var t=n.isMember,r=n.redactedEmailAddress;return m.createElement(m.Fragment,null,e?"Switch":"Sign in"," to your ",t?"member ":"","account (",m.createElement("b",null,r),") for",t?" unlimited access":" your personalized experience",".")}(e,c)))),m.createElement(de.x,{alignItems:"center",display:"flex",sm:{flexDirection:"column"}},m.createElement(jn,{userSocialLogins:c}),m.createElement(de.x,{margin:"0 12px",sm:{margin:"24px 0 0"}},m.createElement(Tn.G,{declineSuggestedAccount:l,isSocial:!!(c.facebook||c.google||c.twitter)})))))):m.createElement(m.Fragment,null)})))},Vn=t(94937),Hn=t(35285),Yn=t(66210),Gn=t(58491),qn=t(11348),zn=t(31517),Kn=t(172),Xn=t(8261),Qn=t(97963),Jn=t(30389),$n=t(27140),Zn=t(6639),et=t(65441);function nt(){var e=i()(["\n  fragment PostScreen_post on Post {\n    id\n    canonicalUrl\n    collection {\n      id\n      domain\n      googleAnalyticsId\n      slug\n      ...CollectionMetabar_collection\n      ...MetaHeader_publisher\n      ...auroraHooks_publisher\n    }\n    # please note that the postMeteringOptions are defined in the postHandler file\n    content(postMeteringOptions: $postMeteringOptions) {\n      isLockedPreviewOnly\n      validatedShareKey\n    }\n    creator {\n      customStyleSheet {\n        id\n        ...PostSidebar_customStyleSheet\n      }\n      ...SuspendedBannerLoader_user\n      ...MetaHeader_publisher\n      ...UserCompleteProfileDialog_user\n      ...auroraHooks_publisher\n      ...TruncatedPostCard_user\n    }\n    customStyleSheet {\n      id\n      postBody {\n        ...SupportedContainerStyles_styleNode\n      }\n      ...CustomBackgroundWrapper_customStyleSheet\n      ...MetaHeader_customStyleSheet\n      ...PostSidebar_customStyleSheet\n    }\n    firstPublishedAt\n    isLocked\n    isPublished\n    isShortform\n    layerCake\n    primaryTopic {\n      name\n      slug\n    }\n    title\n    isMarkedPaywallOnly\n    ...AddCollaborator_post\n    ...InteractivePostBody_post\n    ...LimitedStateInterstitial_post\n    ...MaybeRedirectToEditor_post\n    ...Metabar_post\n    ...Wall_post\n    ...PostBodyInserts_post\n    ...PostFooter_post\n    ...PostHeader_post\n    ...PostMetadata_post\n    ...PostPublishedDialog_prerequisite_post\n    ...PostReadTracker_post\n    ...PostScreenThemeProvider_post\n    ...PostScrollTracker_post\n    ...PostSidebar_post\n    ...SuspendedBannerLoader_post\n    ...buildBranchViewData_post\n    ...optimizelyData_post\n    ...TableOfContents_post\n  }\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n"]);return nt=function(){return e},e}function tt(){var e=i()(["\n  fragment PostScreen_meteringInfo on MeteringInfo {\n    __typename\n    postIds\n    maxUnlockCount\n    unlocksRemaining\n    ...PostHeader_meteringInfo\n    ...Wall_meteringInfo\n    ...buildBranchViewData_meteringInfo\n  }\n  ","\n  ","\n  ","\n"]);return tt=function(){return e},e}function rt(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function it(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?rt(Object(t),!0).forEach((function(n){c()(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):rt(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}!function(e){e.initial="initial",e.repub="repub"}(on||(on={}));var ot=function(e){return(0,hn.fl)(null==e?void 0:e.postBody)},at=function(){return null};function lt(e){var n,t,r,i,o,a,l=e.meteringInfo,c=e.post,s=c.id,d=c.isPublished,y=c.isLocked,S=c.isShortform,E=c.content,k=c.collection,_=c.canonicalUrl,D=c.creator,A=(0,p.I0)(),L=(0,Rn.Av)(),B=(0,Ee.PM)(),U=(0,I.v9)((function(e){return e.config.authDomain})),M=(0,I.v9)((function(e){return e.navigation.currentHash})),j=(0,I.p9)((function(e){return e.config.isAmp})),W=(0,I.v9)((function(e){return e.navigation.referrer})),V=(0,Jn.P)(),H=V.inAppBrowser,Y=V.loading,G=(0,wn.Pd)(D),q=G.viewerEdge,z=G.loading,K=(0,N.gY)(c.collection),X=K.viewerEdge,Q=K.loading,J=(0,kn.l)(null===(n=c.primaryTopic)||void 0===n?void 0:n.id),$=J.viewerEdge,Z=J.loading,ee=Q||z||Z,ne=m.useRef(null),te=(0,O.H)().value;j&&(te=void 0);var re=!!te,ie=k||{},ae=ie.id,le=ie.slug,ce=ie.googleAnalyticsId,se=E||{},ue=se.isLockedPreviewOnly,de=se.validatedShareKey,me=ce?[ce]:null;(0,v.t)({ids:me,isAmp:j}),(0,Yn.V)(ne,c),(0,Gn.t)(re,ne,c),(0,x.i)(c);var pe=(0,en.GT)(k||D),fe=S&&pe,ge=(0,$n.D)(pe),ve=(0,Ye.P7)(B||"").dimension,he=!("digest.reader"!==(void 0===ve?"":ve))&&!ue&&re&&!(null!=q&&q.isUser)&&!(null!=q&&q.isFollowing)&&((null==q?void 0:q.readPostsCount)||0)>=3,ye=m.useState(he),Se=u()(ye,2),be=Se[0],ke=Se[1];m.useEffect((function(){ke(he)}),[]);var we=(0,F.Dj)(c,{shouldInsertCreatorPromo:be}),xe=(0,Ee.Wd)("postPublishedType"),Pe=(0,En.r)(),_e=Pe.loading,Oe=Pe.viewerId;m.useEffect((function(){if(!_e&&Oe&&!Y&&!ee){if(d){re||(c.isLocked?(0,qn.yB)():(0,qn.B8)());var e=(0,h.RD)({inAppBrowser:H,post:c,meteringInfo:l,referrer:W,referrerSource:B,viewer:te,currentUserId:Oe,creatorViewerEdge:q,collectionViewerEdge:X,topicViewerEdge:$});k&&k.domain&&(e.data.$canonical_url=(0,T.o2w)(U,c.id));var n=te&&te.name?(0,Ln.J)(te.name):void 0;(0,P.KQ)({post:c},n),(0,h.Pu)(e),A((0,Kn.aj)(e)),A((0,Kn.QZ)()),function(e,n){var t;e===on.initial&&(null!==(t=n.collection)&&void 0!==t&&t.id?(0,P.VT)(P.Vy.PostPublishedCollection):(0,P.VT)(P.Vy.PostPublished),(0,P.VT)(P.Vy.PostPublishedAggregate))}(xe,c),L.event("post.clientViewed",{postId:s,collectionId:ae,collectionSlug:le,context:1,isFriendLink:!!de})}else L.event("post.draftViewed",{postId:s});return re||(0,mn.kD)(s),function(){A((0,Kn.Uo)())}}}),[s,d,_e,Oe,Y,H,te,ee]),m.useEffect((function(){L.event("experiment.eligible",{experimentId:"bf31c326fe09"})}),[]),(0,Qn.T)(c.customStyleSheet);var Ne=(0,Ee.Wd)("readmore");m.useEffect((function(){var e;if(Ne){var n=document.getElementById(et.W);if(n){var t=window.matchMedia&&(null===(e=window.matchMedia("(prefers-reduced-motion: reduce)"))||void 0===e?void 0:e.matches);setTimeout((function(){var e=Math.max(n.offsetTop-window.innerHeight/2,0);window.scrollY<=e&&window.scrollTo({top:e,behavior:t?void 0:"smooth"})}))}}}),[Ne]);var Ie=m.useState(null==D?void 0:D.hasCompletedProfile),Te=u()(Ie,2),De=Te[0],Ce=Te[1],Ae=(0,Hn.WI)(D).shouldShowDialog&&!De&&(!(null!=D&&D.name)||!(null!=D&&D.bio)||!(null!=D&&D.imageId));ge!==pe&&A((0,zn.t)(pe));var Re,Le,Be=y?{className:"meteredContent"}:{};if(M){var Ue=M.split("-");Re=Ue[0],Le=Ue[1]}var Me=k&&c.customStyleSheet&&null!=c&&null!==(t=c.creator)&&void 0!==t&&null!==(r=t.customStyleSheet)&&void 0!==r&&r.blogroll?it(it({},c.customStyleSheet),{},{blogroll:null==c||null===(i=c.creator)||void 0===i||null===(o=i.customStyleSheet)||void 0===o?void 0:o.blogroll}):c.customStyleSheet,je=(0,I.v9)((function(e){return e.client.hydrated})),We=((0,Zn.HE)(W,B)||(0,Zn.yu)(W))&&je,Ve=null==B?void 0:B.includes("read_next_recirc"),He=We||Ve,Ge=!!(0,Sn.VB)({name:"enable_recirc_reboot",placeholder:!1});return m.createElement(m.Fragment,null,m.createElement(C,{post:c},m.createElement(oe,{isAmp:j,post:c}),m.createElement(Pn.Lv,{post:c,user:D,forceLoad:(null===(a=te)||void 0===a?void 0:a.id)===(null==D?void 0:D.id)}),m.createElement(an,{post:c},m.createElement(gn.f,{customStyleSheet:c.customStyleSheet},m.createElement(ct,{post:c}),m.createElement(yn.k,{post:c},m.createElement(vn,{rule:ot(c.customStyleSheet)},m.createElement(f.Am,null,m.createElement(Wn,null),m.createElement(Vn.b,null),m.createElement("article",Be,m.createElement(R.m,{post:c,meteringInfo:l}),m.createElement(xn.T,{post:c},m.createElement(un.bl,{activeGrafId:Re,activeNoteId:Le,isAuroraPostPageEnabled:pe,post:c,postBodyInserts:we,ref:ne,shouldHideHighlightAnnotations:He&&Ge}))),!ue&&!!d&&!fe&&m.createElement(cn.PostSidebar,{customStyleSheet:Me,post:c,extraWide:!0}),m.createElement(bn.b,{name:"enable_recirc_reboot",placeholder:at},(function(e){return e&&He&&re?m.createElement(Ke,{postId:c.id}):null})),m.createElement(bn.b,{name:"enable_recirc_reboot_lo",placeholder:at},(function(e){return e&&He&&!re?m.createElement($e,{postId:c.id}):null})),m.createElement(w.cu,{post:c,meteringInfo:l}),!ue&&m.createElement(dn.zX,{post:c})))),m.createElement(Fe,{post:c}),!!d&&!ee&&m.createElement(b.T,{slimFooter:pe}))),j&&m.createElement(m.Fragment,null,m.createElement(Xn.x,{json:(0,Xn.J)({postId:s,collectionId:ae,canonicalUrl:_,referrer:W},U)}),m.createElement(g.G,{collectionGoogleAnalyticsId:ce}))),Ae&&!!D&&!c.collection&&m.createElement(Hn.fY,{user:D,confirmText:"Done",setHasCompletedProfile:Ce}))}var ct=function(e){var n,t,r=e.post,i=r.collection,o=r.content,l=i||r.creator,c=(0,en.GT)(l),s=(0,I.p9)((function(e){return e.config.isAmp})),u=o.bodyModel&&o.bodyModel.paragraphs[0],d=u&&u.type===Se.NJ.IMG&&u.layout===Se.ms.FULL_WIDTH;if(l&&c)return m.createElement(de.x,{marginBottom:d?"0":"36px",sm:{marginBottom:d?"0":"20px"}},m.createElement(pn.Go,{publisher:l,customStyleSheet:r.customStyleSheet,post:r,forceSmall:!0}),m.createElement(fn.z,{headerScale:null===(n=r.customStyleSheet)||void 0===n||null===(t=n.header)||void 0===t?void 0:t.headerScale,post:r,publisher:l}));var p={behavior:k.W.Aggressive,isAmp:s,isFixed:!1,post:r};if(i)return m.createElement(y.NL,a()({},p,{collection:i}));var f=r.layerCake,g=r.primaryTopic,v=f&&(1===f||2===f||3===f),h=v?g:null;return m.createElement(E.kw,a()({},p,{isMonogramOnly:!v,marginBottom:0,marginBottomSm:0,topic:h}))},st=(0,d.Ps)(tt(),L.X,w.Y6,h.PI),ut=(0,d.Ps)(nt(),x.a,y.JE,gn.w,un.Uw,xn.Q,A,E.v7,pn.aU,pn.Mv,cn.PostSidebar_customStyleSheet,w.rU,F.Cs,dn.F9,L.Z,ae,Re,Gn.W,ln,Yn.k,cn.PostSidebar_post,hn._3,Pn.QX,Pn.v,Hn.xe,en.C5,h.ir,P.ne,sn.tA,S.Dc)},97963:(e,n,t)=>{"use strict";t.d(n,{T:()=>o});var r=t(67294),i=t(34019),o=function(e){var n=r.useCallback((function(){e&&Array.from(document.getElementsByTagName("iframe")).forEach((function(n){null!=n&&n.contentWindow&&n.contentWindow.postMessage(JSON.stringify({context:"medium.customStyleSheet",customStyleSheet:e}),"*")}))}),[e]);(0,i.r)("medium.getCustomStyleSheet",n)}},51299:(e,n,t)=>{"use strict";t.d(n,{U:()=>c});var r=t(63038),i=t.n(r),o=t(67294),a=t(77180),l=t(27108),c=function(){var e=(0,a.F)(),n=o.useState("lg"),t=i()(n,2),r=t[0],c=t[1],s=function(){window.innerWidth>=e.breakpoints.xl?c("xl"):e.breakpoints.lg<=window.innerWidth&&window.innerWidth<e.breakpoints.xl?c("lg"):e.breakpoints.md<=window.innerWidth&&window.innerWidth<e.breakpoints.lg?c("md"):e.breakpoints.sm<=window.innerWidth&&window.innerWidth<e.breakpoints.md?c("sm"):c("xs")};return o.useEffect((function(){return s(),l.V6.on("resize",s),function(){return l.V6.off("resize",s)}}),[]),r}},34019:(e,n,t)=>{"use strict";t.d(n,{r:()=>i});var r=t(67294),i=function(e,n){r.useEffect((function(){if("undefined"!=typeof window){var t=function(t){if(t.data){var r,i;try{i=JSON.parse(t.data)}catch(e){}(null===(r=i)||void 0===r?void 0:r.context)===e&&n(i)}};return window.addEventListener("message",t),function(){window.removeEventListener("message",t)}}}),[n,e])}},71794:(e,n,t)=>{"use strict";t.d(n,{j7:()=>d,OO:()=>m,iI:()=>p,m3:()=>f});var r=t(28655),i=t.n(r),o=t(71439),a=t(14391),l=t(22744),c=t(50993);function s(){var e=i()(["\n  fragment shortformPostMetaDescription_post on Post {\n    id\n    metaDescription\n    seoDescription\n    shortformType\n    title\n    ...getPostContentAsString_post\n  }\n  ","\n"]);return s=function(){return e},e}function u(){var e=i()(["\n  fragment postMetaDescription_post on Post {\n    id\n    title\n    seoDescription\n    metaDescription\n    creator {\n      id\n      name\n    }\n    collection {\n      id\n      name\n    }\n    previewContent {\n      subtitle\n    }\n    ...getPostContentAsString_post\n  }\n  ","\n"]);return u=function(){return e},e}var d=function(e){return function(e){var n=e.metaDescription,t=e.seoDescription,r=e.title||"";if(t)return t;if(n)return n;var i=function(e){var n=(0,l.r4)(e,250);return n&&(0,c.N8)(n,200)}(e);if(i.length>150)return i;var o=e.previewContent&&e.previewContent.subtitle||"";if(o.length>140)return o;o.length>0&&(o+=".");var a=(r.length?r+". ":"")+o;if(a.length>140)return a;var s="“".concat(r,"” is published");return e.creator&&e.creator.name&&(s+=" by ".concat(e.creator.name)),e.collection&&e.collection.name&&(s+=" in ".concat(e.collection.name)),"".concat(o," ").concat(s,".")}(e).trim()},m=function(e,n){var t=e.metaDescription,r=e.seoDescription,i=e.shortformType,o=i===a.po.SHORTFORM_TYPE_NOTE||!i;if(r)return r;if(t)return t;if(o&&n){var s=(0,l.r4)(e,350,0);return(0,c.N8)(s,300)}return""},p=(0,o.Ps)(u(),l.bh),f=(0,o.Ps)(s(),l.bh)},22744:(e,n,t)=>{"use strict";t.d(n,{r4:()=>O,bh:()=>N,yB:()=>I,dm:()=>T,lO:()=>A,Bg:()=>F,_t:()=>R,bq:()=>L,oS:()=>B,Pz:()=>U,c_:()=>M,HF:()=>j});var r=t(59713),i=t.n(r),o=t(28655),a=t.n(o),l=t(71439),c=t(90584),s=t(4743),u=t(14391),d=t(398),m=t(50993);function p(){var e=a()(["\n  fragment shouldIndexPost_post on Post {\n    id\n    firstPublishedAt\n    isLimitedState\n    isShortform\n    shortformType\n    visibility\n    curationStatus\n    creator {\n      name\n      atsQualifiedAt\n      customDomainState {\n        live {\n          status\n          isSubdomain\n        }\n      }\n    }\n    collection {\n      customDomainState {\n        live {\n          status\n          isSubdomain\n        }\n      }\n      creator {\n        atsQualifiedAt\n      }\n      ptsQualifiedAt\n    }\n    noIndex\n    isIndexable\n    ...getPostContentAsString_post\n  }\n  ","\n"]);return p=function(){return e},e}function f(){var e=a()(["\n  fragment shortformPostTitle_post on Post {\n    id\n    title\n    seoTitle\n    ...getPostContentAsString_post\n    ...appendPostContext_post\n    collection {\n      ...maybeAppendProductName_collection\n    }\n  }\n  ","\n  ","\n  ","\n"]);return f=function(){return e},e}function g(){var e=a()(["\n  fragment getTitleForPost_post on Post {\n    id\n    title\n    ...postTitle_post\n    ...getTitleDetails_post\n  }\n  ","\n  ","\n"]);return g=function(){return e},e}function v(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function h(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?v(Object(t),!0).forEach((function(n){i()(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):v(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function y(){var e=a()(["\n  fragment postTitle_post on Post {\n    id\n    title\n    seoTitle\n    firstPublishedAt\n    ...getPostContentAsString_post\n    ...appendPostContext_post\n    collection {\n      id\n      name\n      domain\n      ...maybeAppendProductName_collection\n    }\n    creator {\n      name\n    }\n    previewContent {\n      subtitle\n    }\n  }\n  ","\n  ","\n  ","\n"]);return y=function(){return e},e}function S(){var e=a()(["\n  fragment maybeAppendProductName_collection on Collection {\n    id\n    domain\n  }\n"]);return S=function(){return e},e}function b(){var e=a()(["\n  fragment getTitleDetails_post on Post {\n    id\n    content(postMeteringOptions: $postMeteringOptions) {\n      bodyModel {\n        ...GetTitleIndexMap_bodyModel\n      }\n    }\n    ...getPostContentAsString_post\n  }\n  ","\n  ","\n"]);return b=function(){return e},e}function E(){var e=a()(["\n  fragment getPostContentAsString_post on Post {\n    content(postMeteringOptions: $postMeteringOptions) {\n      bodyModel {\n        paragraphs {\n          text\n          type\n          mixtapeMetadata {\n            href\n          }\n        }\n      }\n    }\n  }\n"]);return E=function(){return e},e}function k(e,n){var t;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(t=function(e,n){if(e){if("string"==typeof e)return w(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?w(e,n):void 0}}(e))||n&&e&&"number"==typeof e.length){t&&(e=t);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,l=!1;return{s:function(){t=e[Symbol.iterator]()},n:function(){var e=t.next();return a=e.done,e},e:function(e){l=!0,o=e},f:function(){try{a||null==t.return||t.return()}finally{if(l)throw o}}}}function w(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}function x(){var e=a()(["\n  fragment appendPostContext_post on Post {\n    id\n    sequence {\n      title\n    }\n    collection {\n      name\n    }\n    creator {\n      name\n    }\n  }\n"]);return x=function(){return e},e}function P(e,n){var t,r,i;return null!==(t=n.sequence)&&void 0!==t&&t.title?e+=" - ".concat(n.sequence.title):null!==(r=n.collection)&&void 0!==r&&r.name?e+=" - ".concat(n.collection.name):null!==(i=n.creator)&&void 0!==i&&i.name&&(e+=" - ".concat(n.creator.name)),e}var _=(0,l.Ps)(x());function O(e){var n,t,r,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:250,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:100,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{includeMixtapeHref:!1},l=a.includeMixtapeHref,c=(null===(n=e.content)||void 0===n||null===(t=n.bodyModel)||void 0===t?void 0:t.paragraphs)||[],s="",u=k(c);try{for(u.s();!(r=u.n()).done;){var d=r.value,m=d.mixtapeMetadata,p=d.text,f=d.type;if(l&&null!=m&&m.href?s+=s?" ".concat(m.href):m.href:"P"===f&&p&&p.length>o&&(s+=s?" ".concat(p):p),s.length>i)break}}catch(e){u.e(e)}finally{u.f()}return s}var N=(0,l.Ps)(E());function I(e){var n=!1,t="";if(e.content&&e.content.bodyModel&&e.content.bodyModel.paragraphs){var r=e.content.bodyModel.paragraphs,i=(0,s.LI)(r).titleIndex;"number"==typeof i&&(t=r[i].text||"",n=!0)}return{hasTitleGraf:n,latestTitle:t}}var T=(0,l.Ps)(b(),N,s.k);function D(e,n,t){return null!=t&&t.domain?e:"".concat(e," - ").concat(n)}var C=(0,l.Ps)(S());function A(e,n){var t,r,i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=e.seoTitle,a=e.title||"",l=(null===(t=e.previewContent)||void 0===t?void 0:t.subtitle)||"";if(o)return(0,d.p)(o,e.collection&&e.collection.name,n);if(!i)return a.length>50?a:a=D(a=P(a,e),n,e.collection);a.length<33&&l&&(l=(0,m.N8)(l,40),a+=". ".concat(l)),null!==(r=e.creator)&&void 0!==r&&r.name&&(a+=" | by ".concat(e.creator.name));var s="",u=Date.now()-5184e6;e.firstPublishedAt>=u&&(s=" | ".concat((0,c.Z)(e.firstPublishedAt,"LLL, yyyy")));var p=e.collection;return p?p.domain?a+="".concat(s," | ").concat(p.name):a+=" | ".concat(p.name).concat(s," | ").concat(n):a+="".concat(s," | ").concat(n),a}var F=(0,l.Ps)(y(),N,_,C);function R(e,n){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:I(e),r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=e.title||"",o=t.latestTitle||i,a=h(h({},e),{},{title:o});return A(a,n,r).trim()}var L=(0,l.Ps)(g(),F,T);function B(e,n,t){var r=e.seoTitle,i=e.title||"";return r?(0,d.p)(r,e.collection&&e.collection.name,n):i=D(i=P(i=function(e,n,t){var r=n.shortformType,i=r===u.po.SHORTFORM_TYPE_NOTE||!r;return t||(i?e=O(n,250,0):r===u.po.SHORTFORM_TYPE_LINK&&(e=O(n,250,0,{includeMixtapeHref:!0}))),(0,m.N8)(e,200)}(i,e,t),e),n,e.collection)}var U=(0,l.Ps)(f(),N,_,C);function M(e){var n,t,r,i,o=e.noIndex,a=e.collection,l=e.curationStatus,c=e.firstPublishedAt,s=e.isLimitedState,d=e.isShortform,m=e.shortformType,p=e.visibility,f=e.isIndexable,g=m===u.po.SHORTFORM_TYPE_NOTE||!m;if(o)return!1;if(!c)return!1;if("PUBLIC"!==p&&"LOCKED"!==p)return!1;if(s)return!1;if(d)if(g){if(O(e,10,0).length<=10)return!1}else if(0===O(e,10,0).length)return!1;if(f)return!0;if((null===(n=e.creator)||void 0===n?void 0:n.atsQualifiedAt)>0||a&&a.ptsQualifiedAt>0)return!0;if(l&&(l===u.Xg.CURATION_STATUS_DISTRIBUTED||l===u.Xg.CURATION_STATUS_DISTRIBUTED_AND_DISABLED))return!0;var v=["DELETED","FAILED","UNSPECIFIED"],h=null==a||null===(t=a.customDomainState)||void 0===t?void 0:t.live,y=null===(r=e.creator)||void 0===r||null===(i=r.customDomainState)||void 0===i?void 0:i.live;return!((!h||h.isSubdomain||v.includes(h.status))&&(!y||y.isSubdomain||v.includes(y.status)))}var j=(0,l.Ps)(p(),N)},398:(e,n,t)=>{"use strict";t.d(n,{N:()=>r,p:()=>i});var r=function(e){return e||"Untitled story"},i=function(e,n,t){return n?"".concat(e," | ").concat(n):t?"".concat(e," | ").concat(t):e}}}]);
//# sourceMappingURL=https://stats.medium.build/lite/sourcemaps/8058.0c8f4f9c.chunk.js.map